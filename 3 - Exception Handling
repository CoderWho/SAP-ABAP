ğŸ”¹ 3. Exception Handling (Hata YÃ¶netimi)

â“ Neden Exception Handling?
Hatalar her zaman olabilir â€” dosya bulunamaz, yetki eksikliÄŸi, veritabanÄ± baÄŸlantÄ± hatasÄ±, vb.
Exception Handling sayesinde:
	â€¢ HatalarÄ± dÃ¼zgÃ¼n yÃ¶netirsin,
	â€¢ Program kontrolsÃ¼z ÅŸekilde patlamaz,
	â€¢ KullanÄ±cÄ±ya anlaÅŸÄ±lÄ±r mesajlar verebilirsin.

ğŸ’¡ ABAP'ta Exception TÃ¼rleri
TÃ¼r	AÃ§Ä±klama
CX_ROOT	TÃ¼m exception'larÄ±n atasÄ±
CX_STATIC_CHECK	Catch zorunludur
CX_DYNAMIC_CHECK	Catch isteÄŸe baÄŸlÄ±dÄ±r
CX_NO_CHECK	Catch edilmese de olur, sistem otomatik yÃ¶netir


ğŸ§± Exception YapÄ±sÄ±: SÄ±nÄ±flarla Hata FÄ±rlatma
1. Exception SÄ±nÄ±fÄ± TanÄ±mla

CLASS cx_hata DEFINITION INHERITING FROM cx_static_check.
  PUBLIC SECTION.
    METHODS constructor IMPORTING mesaj TYPE string.
    DATA: mesaj TYPE string.
ENDCLASS.

CLASS cx_hata IMPLEMENTATION.
  METHOD constructor.
    super->constructor( ).
    me->mesaj = mesaj.
  ENDMETHOD.
ENDCLASS.


2. Hata FÄ±rlat (RAISE EXCEPTION)

CLASS lcl_islem DEFINITION.
  PUBLIC SECTION.
    METHODS: bolme IMPORTING iv_pay TYPE i
                              iv_payda TYPE i
                    RETURNING VALUE(rv_sonuc) TYPE i
                    RAISING   cx_hata.
ENDCLASS.

CLASS lcl_islem IMPLEMENTATION.
  METHOD bolme.
    IF iv_payda = 0.
      RAISE EXCEPTION TYPE cx_hata
        EXPORTING mesaj = 'Payda sÄ±fÄ±r olamaz!'.
    ENDIF.
    rv_sonuc = iv_pay / iv_payda.
  ENDMETHOD.
ENDCLASS.


3. TRY - CATCH KullanÄ±mÄ±

START-OF-SELECTION.
  DATA islem TYPE REF TO lcl_islem.
  DATA sonuc TYPE i.

  CREATE OBJECT islem.

  TRY.
      sonuc = islem->bolme( iv_pay = 10 iv_payda = 0 ).
      WRITE: / 'SonuÃ§:', sonuc.
    CATCH cx_hata INTO DATA(hata).
      WRITE: / 'Hata:', hata->mesaj.
  ENDTRY.


ğŸ¯ Neyi Ã–ÄŸrendik?
YapÄ±	AÃ§Ä±klama
TRY ... CATCH	HatalarÄ± yakalamak iÃ§in blok
RAISE EXCEPTION TYPE	Hata fÄ±rlatÄ±r
cx_static_check	KullanÄ±cÄ±nÄ±n yakalamasÄ± zorunlu hata tÃ¼rÃ¼
constructor	Hata mesajÄ± ya da veri taÅŸÄ±yabilir


ğŸ“Œ GerÃ§ek Hayat Uygulama SenaryolarÄ±:
	â€¢ Dosya okuma sÄ±rasÄ±nda dosya bulunamadÄ±ÄŸÄ±nda
	â€¢ APIâ€™den dÃ¶nen status code hatalÄ±ysa
	â€¢ DÃ¶nÃ¼ÅŸtÃ¼rme iÅŸlemi baÅŸarÄ±sÄ±zsa
	â€¢ Yetki kontrolÃ¼ baÅŸarÄ±sÄ±zsa

