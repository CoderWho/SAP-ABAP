🔹 3. Exception Handling (Hata Yönetimi)

❓ Neden Exception Handling?
Hatalar her zaman olabilir — dosya bulunamaz, yetki eksikliği, veritabanı bağlantı hatası, vb.
Exception Handling sayesinde:
	• Hataları düzgün yönetirsin,
	• Program kontrolsüz şekilde patlamaz,
	• Kullanıcıya anlaşılır mesajlar verebilirsin.

💡 ABAP'ta Exception Türleri
Tür	Açıklama
CX_ROOT	Tüm exception'ların atası
CX_STATIC_CHECK	Catch zorunludur
CX_DYNAMIC_CHECK	Catch isteğe bağlıdır
CX_NO_CHECK	Catch edilmese de olur, sistem otomatik yönetir


🧱 Exception Yapısı: Sınıflarla Hata Fırlatma
1. Exception Sınıfı Tanımla

CLASS cx_hata DEFINITION INHERITING FROM cx_static_check.
  PUBLIC SECTION.
    METHODS constructor IMPORTING mesaj TYPE string.
    DATA: mesaj TYPE string.
ENDCLASS.

CLASS cx_hata IMPLEMENTATION.
  METHOD constructor.
    super->constructor( ).
    me->mesaj = mesaj.
  ENDMETHOD.
ENDCLASS.


2. Hata Fırlat (RAISE EXCEPTION)

CLASS lcl_islem DEFINITION.
  PUBLIC SECTION.
    METHODS: bolme IMPORTING iv_pay TYPE i
                              iv_payda TYPE i
                    RETURNING VALUE(rv_sonuc) TYPE i
                    RAISING   cx_hata.
ENDCLASS.

CLASS lcl_islem IMPLEMENTATION.
  METHOD bolme.
    IF iv_payda = 0.
      RAISE EXCEPTION TYPE cx_hata
        EXPORTING mesaj = 'Payda sıfır olamaz!'.
    ENDIF.
    rv_sonuc = iv_pay / iv_payda.
  ENDMETHOD.
ENDCLASS.


3. TRY - CATCH Kullanımı

START-OF-SELECTION.
  DATA islem TYPE REF TO lcl_islem.
  DATA sonuc TYPE i.

  CREATE OBJECT islem.

  TRY.
      sonuc = islem->bolme( iv_pay = 10 iv_payda = 0 ).
      WRITE: / 'Sonuç:', sonuc.
    CATCH cx_hata INTO DATA(hata).
      WRITE: / 'Hata:', hata->mesaj.
  ENDTRY.


🎯 Neyi Öğrendik?
Yapı	Açıklama
TRY ... CATCH	Hataları yakalamak için blok
RAISE EXCEPTION TYPE	Hata fırlatır
cx_static_check	Kullanıcının yakalaması zorunlu hata türü
constructor	Hata mesajı ya da veri taşıyabilir


📌 Gerçek Hayat Uygulama Senaryoları:
	• Dosya okuma sırasında dosya bulunamadığında
	• API’den dönen status code hatalıysa
	• Dönüştürme işlemi başarısızsa
	• Yetki kontrolü başarısızsa

