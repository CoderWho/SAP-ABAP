âš¡ CDS View Performans TÃ¼yolarÄ± ve En Ä°yi Pratikler
(ğŸ“Œ CDSâ€™leri hÄ±zlÄ±, okunabilir ve gÃ¼venli yazmanÄ±n yollarÄ±)

ğŸ¯ Neden Bu Konu Ã–nemli?
CDS view'ler gÃ¼Ã§lÃ¼dÃ¼r ama bilinÃ§sizce kullanÄ±ldÄ±ÄŸÄ±nda:
	â€¢ Sistemi yavaÅŸlatabilir,
	â€¢ Gereksiz bÃ¼yÃ¼k veriler Ã§eker,
	â€¢ KarmaÅŸÄ±k, anlaÅŸÄ±lmaz hale gelir.
	Ã–zellikle Fiori/OData/RAP projelerinde performans kritik bir konudur.

ğŸ§  Temel Strateji: â€œAz veri, doÄŸru yapÄ±, sade iliÅŸkiâ€

ğŸ”Ÿ En Ä°yi 10 Pratik (DetaylarÄ±yla)

âœ… 1. KÃ¼Ã§Ã¼k baÅŸla: Az alan, az tablo
	Gereksiz tÃ¼m alanlarÄ± veya joinâ€™leri Ã§Ä±kar.

YanlÄ±ÅŸ:
select * from vbak

DoÄŸru:
select vbeln, erdat from vbak


âœ… 2. ASSOCIATION kullan, JOINâ€™i dikkatli kullan
	â€¢ JOIN her zaman Ã§alÄ±ÅŸÄ±r, ama her sorguda tabloyu zorunlu getirir.
	â€¢ ASSOCIATION sadece alan kullanÄ±ldÄ±ÄŸÄ±nda veri Ã§eker â†’ daha verimli!

âœ… 3. Viewâ€™Ã¼ parÃ§alara ayÄ±r (VDM KatmanÄ± Kullan)
	â€¢ Basic â€“ Composite â€“ Consumption yapÄ±sÄ±:
		â—‹ Daha sade
		â—‹ Daha kolay test edilir
		â—‹ Daha az coupling (baÄŸÄ±mlÄ±lÄ±k)

âœ… 4. Filter propagation (filtre aktarÄ±mÄ±) kullan


association [0..1] to ZCUSTOMER as _customer
  on vbak.kunnr = _customer.kunnr
  and _customer.country = 'TR'


EÄŸer _customer.country gibi filtreyi CDS iÃ§inden belirlemezsen, UIâ€™den gelen filtreler otomatik geÃ§er â†’ bu daha doÄŸrudur.


âœ… 5. CDS iÃ§indeki hesaplamalarÄ± minimize et
	Ã‡ok karmaÅŸÄ±k hesaplar gerekiyorsa AMDP (ABAP Managed Database Procedure) tercih et.
	CDS, CASE, COALESCE, CAST gibi fonksiyonlarÄ± destekler ama fazlasÄ± yorar.

âœ… 6. WHERE yerine parametrik CDS kullan

define view with parameters p_date: sflight-fldate

BÃ¶ylece kullanÄ±cÄ± sadece ihtiyacÄ± kadar veriyi Ã§eker, tÃ¼m tabloyu deÄŸil.


âœ… 7. @Analytics.measure / dimension doÄŸru tanÄ±mla
Analitik viewâ€™lerde bu ayrÄ±m performans ve anlam aÃ§Ä±sÄ±ndan kritiktir:

@Analytics.measure: true
netwr,

@Analytics.dimension: true
vkorg

âœ… 8. Projection yap: sadece kullanÄ±lacak alanlarÄ± Ã§Ä±kar
Ã–zellikle composite viewâ€™lerde:

define view ZCOMP_SALES as select from ZBASIC_SALES_HEADER {
  vbeln, erdat, kunnr
}

â†’ SELECT * asla kullanma!


âœ… 9. Indexâ€™li alanlar Ã¼zerinde filtrele
SAP HANAâ€™da bile, WHERE vbeln = ... gibi anahtar alanlara filtre koymak Ã§ok daha hÄ±zlÄ±dÄ±r.
Join'ler de bu alanlarla yapÄ±lÄ±rsa daha iyi Ã§alÄ±ÅŸÄ±r.

âœ… 10. Test et, ST05 kullan, SQL PlanÄ± oku
	â€¢ CDS viewâ€™ini SE16N, RSRTS_ODP_DIS veya SE11 ile test et.
	â€¢ ST05 ile performans trace yap.
	â€¢ HANA Studio varsa PlanViz ile execution plan analiz et.


ğŸ Ekstra TÃ¼yolar
Ä°pucu	AÃ§Ä±klama
@AccessControl.authorizationCheck: #NOT_REQUIRED test iÃ§in faydalÄ±dÄ±r	Ama Ã¼retimde mutlaka #CHECK kullan
@AbapCatalog.compiler.compareFilter ile filtre davranÄ±ÅŸÄ± kontrol edilebilir	Genelde Ã¶zel ihtiyaÃ§larda kullanÄ±lÄ±r
@Semantics.amount.currencyCode ile Fioriâ€™de tutar gÃ¶rÃ¼nÃ¼mÃ¼ iyileÅŸtirilir	Para birimi ile birlikte gÃ¶rÃ¼nÃ¼r


ğŸ§  Pratik Kural:
	Her CDS sadece bir iÅŸi yapmalÄ±.
	â€œTek sorumluluk ilkesiâ€ (Single Responsibility Principle) burada da geÃ§erli!

